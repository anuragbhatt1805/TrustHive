"use strict";var L=Object.create;var n=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var P=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty;var i=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),w=(e,t)=>{for(var s in t)n(e,s,{get:t[s],enumerable:!0})},d=(e,t,s,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of P(t))!q.call(e,r)&&r!==s&&n(e,r,{get:()=>t[r],enumerable:!(a=A(t,r))||a.enumerable});return e};var C=(e,t,s)=>(s=e!=null?L(R(e)):{},d(t||!e||!e.__esModule?n(s,"default",{value:e,enumerable:!0}):s,e)),O=e=>d(n({},"__esModule",{value:!0}),e);var l=i(c=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0})});var g=i(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0})});var h=i(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0})});var y=i(o=>{"use strict";var _=o&&o.__createBinding||(Object.create?function(e,t,s,a){a===void 0&&(a=s);var r=Object.getOwnPropertyDescriptor(t,s);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,a,r)}:function(e,t,s,a){a===void 0&&(a=s),e[a]=t[s]}),u=o&&o.__exportStar||function(e,t){for(var s in e)s!=="default"&&!Object.prototype.hasOwnProperty.call(t,s)&&_(t,e,s)};Object.defineProperty(o,"__esModule",{value:!0});u(l(),o);u(g(),o);u(h(),o)});var E={};w(E,{handler:()=>T});module.exports=O(E);var p=C(y()),f=async e=>{let{action:t}=e;switch(t){case"login":return S(e);case"register":return j(e);case"validate":return v(e);default:return{statusCode:400,message:"Invalid action"}}},S=async e=>{let{email:t,password:s}=e;return!t||!s?{statusCode:400,message:"Email and password are required"}:(console.log(`Processing login for: ${t}`),{statusCode:200,message:"Login successful",data:{token:"mock-jwt-token",user:{email:t}}})},j=async e=>{let{email:t,password:s}=e;return!t||!s?{statusCode:400,message:"Email and password are required"}:(console.log(`Processing registration for: ${t}`),{statusCode:201,message:"Registration successful",data:{user:{email:t,name:e.name}}})},v=async e=>{let{token:t}=e;return t?(console.log(`Validating token: ${t.substring(0,10)}...`),{statusCode:200,message:"Token is valid",data:{user:{email:"user@example.com"}}}):{statusCode:400,message:"Token is required"}};var T=async(e,t)=>{console.log("Lambda function invoked with event:",JSON.stringify(e,null,2));try{let s;e.body?s=JSON.parse(e.body):s={action:e.queryStringParameters?.action||"",email:e.queryStringParameters?.email,password:e.queryStringParameters?.password,token:e.queryStringParameters?.token};let a=await f(s);return{statusCode:a.statusCode,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Content-Type,Authorization","Access-Control-Allow-Methods":"GET,POST,PUT,DELETE,OPTIONS"},body:JSON.stringify({message:a.message,data:a.data})}}catch(s){return console.error("Error processing request:",s),{statusCode:500,headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({message:"Internal server error"})}}};0&&(module.exports={handler});
//# sourceMappingURL=index.js.map
